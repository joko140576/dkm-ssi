<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Dashboard Donasi Bencana Sumatera</title>

    <!-- BOOTSTRAP CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- BOOTSTRAP ICONS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css" rel="stylesheet">

    <style>
        body {
            background: #eef1f7;
            font-family: 'Arial';
        }

        .dashboard-wrapper {
            max-width: 1100px;
            margin: auto;
        }

        /* CARD MODERN BERWARNA */
        .card-colored {
            padding: 26px;
            border-radius: 18px;
            color: white;
            box-shadow: 0 6px 18px rgba(0,0,0,0.15);
            height: 100%;
            transition: 0.25s;
        }

        .card-colored:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.20);
        }

        /* WARNA CARD */
        .bg-donasi {
            background: linear-gradient(135deg, #406aff, #7b2ff7);
        }

        .bg-donatur {
            background: linear-gradient(135deg, #0fb78d, #07d4b4);
        }

        .bg-pegawai {
            background: linear-gradient(135deg, #ff4d4d, #ff8c2b);
        }

        .card-colored i {
            font-size: 44px;
            margin-right: 16px;
            opacity: 0.9;
        }

        /* Responsive */
        @media (max-width: 576px) {
            .card-colored {
                padding: 30px;
            }
            .card-colored i {
                font-size: 36px;
            }
        }
    </style>
</head>

<body>

<!-- TITLE -->
<div class="container text-center mt-3">
    <h1 class="fw-bold text-primary section-title">Data Donasi Bencana Sumatera</h1>
    <p class="text-secondary fs-4">Update laporan donasi terkini</p>
</div>

<!-- DASHBOARD KIRI KANAN -->
<div class="container dashboard-wrapper mt-4 mb-3">
    <div class="row g-4">

        <!-- TOTAL DONASI -->
        <div class="col-md-6">
            <div class="card-colored bg-donasi d-flex align-items-center">
                <i class="bi bi-cash-coin"></i>
                <div>
                    <h2 class="fw-bold mb-1">Total Donasi</h2>
                    <h3 id="totalDonasi">Rp 0</h3>
                </div>
            </div>
        </div>

        <!-- TOTAL DONATUR -->
        <div class="col-md-6">
            <div class="card-colored bg-donatur d-flex align-items-center">
                <i class="bi bi-people-fill"></i>
                <div>
                    <h2 class="fw-bold mb-1">Total Donatur</h2>
                    <h3 id="totalDonatur">0</h3>
                </div>
            </div>
        </div>

    </div>
</div>

<!-- PEGAWAI TERDAMPAK -->
<div class="container dashboard-wrapper mb-1">
    <div class="card-colored bg-pegawai">
        <div class="d-flex align-items-center mb-3">
            <i class="bi bi-exclamation-triangle-fill"></i>
            <div>
                <h2 class="fw-bold mb-1">Pegawai Terdampak</h2>
                <h3 class="fw-bold">111 Orang</h3>
            </div>
        </div>

        <h4 class="mt-3 fw-bold">Lokasi Terdampak:</h4>

        <ul class="fs-5 mt-2">
            <li>Medan (35)</li>
            <li>Banda Aceh (1)</li>
            <li>Langsa (25)</li>
            <li>Padangsidempuan (2)</li>
            <li>Lhokseumawe (47)</li>
            <li>Meulaboh (1)</li>
        </ul>
    </div>
</div>

<!-- THANKS -->
<div class="text-center ">
    <h1 class="fw-bold text-success">Terimakasih atas Donasinya</h1>
    <p class="text-secondary fs-4">Semoga Tuhan YME membalas semua kebaikan Anda</p>
</div>

<!-- LOADING -->
<div class="container text-center">
    <div id="loadingBox" class="my-5">
        <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status"></div>
        <p class="mt-3 text-primary fw-bold fs-4">Memuat data donasi...</p>
    </div>
</div>

<script>
const url = "https://script.google.com/macros/s/AKfycbxqnAFR3trk0Iib_40-Wda4x-lmUvQoqNUGxT8QXIw1El-acyy3Uih3d4bPSyApSC8DUQ/exec";

fetch(url)
    .then(res => res.json())
    .then(data => {
        document.getElementById("totalDonasi").textContent =
            "Rp " + data.totalDonasi.toLocaleString();
        document.getElementById("totalDonatur").textContent = data.totalDonatur;

        document.getElementById("loadingBox").style.display = "none";
    });

setTimeout(() => {
    window.location.href = "index.html";
}, 120000);
</script>

</body>
</html>
